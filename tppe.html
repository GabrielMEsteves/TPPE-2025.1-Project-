<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protótipo de Navegação - App de Viagens com IA</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* Estilos personalizados para melhorar a aparência */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Esconde todas as telas por padrão */
        .screen {
            display: none;
        }
        /* Mostra a tela ativa */
        .screen.active {
            display: flex;
        }
        /* Animação de fade-in */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        /* Estilo para o scrollbar no modal da IA */
        #itineraryContent::-webkit-scrollbar {
            width: 8px;
        }
        #itineraryContent::-webkit-scrollbar-track {
            background: #1e293b; /* bg-slate-800 */
        }
        #itineraryContent::-webkit-scrollbar-thumb {
            background: #475569; /* bg-slate-600 */
            border-radius: 4px;
        }
        #itineraryContent::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* bg-slate-500 */
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-200">

    <!-- Container Principal da Aplicação -->
    <div id="app" class="w-full min-h-screen flex flex-col items-center justify-center p-4">

        <!-- TELA DE SELEÇÃO INICIAL -->
        <div id="home" class="screen active w-full max-w-md mx-auto text-center p-8 bg-slate-800 rounded-xl shadow-2xl fade-in">
            <i class="ph-bold ph-bus text-6xl text-cyan-400 mx-auto mb-4"></i>
            <h1 class="text-3xl font-bold mb-2 text-white">Protótipo de Viagens</h1>
            <p class="text-slate-400 mb-8">Selecione o fluxo que deseja visualizar:</p>
            <div class="flex flex-col space-y-4">
                <button onclick="navigate('loginUser')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg">
                    <i class="ph ph-user-circle align-middle mr-2"></i>Área do Usuário
                </button>
                <button onclick="navigate('loginAdmin')" class="w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg">
                     <i class="ph ph-user-gear align-middle mr-2"></i>Área do Admin
                </button>
            </div>
        </div>
        
        <!-- ====================================================== -->
        <!-- =================== FLUXO DO USUÁRIO =================== -->
        <!-- ====================================================== -->

        <!-- TELA: LOGIN USUÁRIO -->
        <div id="loginUser" class="screen w-full max-w-md mx-auto p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
            <button onclick="navigate('home')" class="self-start text-cyan-400 hover:text-cyan-300 mb-4"><i class="ph ph-arrow-left"></i> Voltar</button>
            <i class="ph-bold ph-bus text-5xl text-cyan-400 mx-auto mb-4"></i>
            <h2 class="text-2xl font-bold text-center text-white mb-2">Bem-vindo de volta!</h2>
            <p class="text-slate-400 text-center mb-6">Acesse sua conta para continuar.</p>
            <div class="space-y-4">
                <div>
                    <label for="email-user" class="block text-sm font-medium text-slate-300 mb-1">Email ou CPF</label>
                    <input type="email" id="email-user" value="usuario@email.com" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
                </div>
                <div>
                    <label for="password-user" class="block text-sm font-medium text-slate-300 mb-1">Senha</label>
                    <input type="password" id="password-user" value="123456" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
                    <a href="#" class="text-sm text-cyan-400 hover:underline mt-2 block text-right">Esqueci minha senha</a>
                </div>
            </div>
            <button onclick="navigate('buscaItinerario')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-4 rounded-lg mt-6 transition duration-300">ENTRAR</button>
            <p class="text-center text-sm text-slate-400 mt-4">Não tem uma conta? <a href="#" class="font-semibold text-cyan-400 hover:underline">Cadastre-se</a></p>
        </div>

        <!-- TELA: BUSCA DE ITINERÁRIO -->
        <div id="buscaItinerario" class="screen w-full max-w-2xl mx-auto p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
             <div class="w-full flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-white">Para onde vamos hoje?</h2>
                <div class="flex space-x-4">
                   <button onclick="navigate('minhasPassagens')" class="text-slate-300 hover:text-cyan-400 transition"><i class="ph-bold ph-ticket text-2xl"></i></button>
                   <button onclick="navigate('loginUser')" class="text-slate-300 hover:text-cyan-400 transition"><i class="ph-bold ph-sign-out text-2xl"></i></button>
                </div>
             </div>
             <div class="bg-slate-700/50 p-6 rounded-lg space-y-4">
                 <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center">
                     <div class="md:col-span-2">
                         <label class="block text-sm font-medium text-slate-300 mb-1">Origem</label>
                         <input type="text" id="origemInput" value="São Paulo, SP" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
                     </div>
                     <div class="flex justify-center">
                         <button class="p-2 bg-slate-600 rounded-full text-cyan-400 hover:bg-slate-500 transition mt-4"><i class="ph-bold ph-arrows-left-right text-xl"></i></button>
                     </div>
                     <div class="md:col-span-2">
                         <label class="block text-sm font-medium text-slate-300 mb-1">Destino</label>
                         <input type="text" id="destinoInput" value="Rio de Janeiro, RJ" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
                     </div>
                 </div>
                 <div>
                     <label class="block text-sm font-medium text-slate-300 mb-1">Data da Ida</label>
                     <input type="date" value="2025-08-25" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 focus:outline-none">
                 </div>
             </div>
             <button onclick="navigate('compraPassagem')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-4 rounded-lg mt-6 transition duration-300">BUSCAR PASSAGENS</button>
        </div>

        <!-- TELA: COMPRA DE PASSAGEM (RESULTADOS) -->
        <div id="compraPassagem" class="screen w-full max-w-3xl mx-auto p-6 md:p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
             <div class="w-full flex items-center mb-6">
                <button onclick="navigate('buscaItinerario')" class="text-cyan-400 hover:text-cyan-300 mr-4 p-2 rounded-full hover:bg-slate-700"><i class="ph ph-arrow-left text-2xl"></i></button>
                <div>
                   <h2 class="text-2xl font-bold text-white">São Paulo <i class="ph ph-arrow-right align-middle"></i> Rio de Janeiro</h2>
                   <p class="text-slate-400">25 de Agosto de 2025</p>
                </div>
             </div>
             <div class="flex space-x-2 mb-6">
                 <button class="bg-cyan-600 text-white px-4 py-2 rounded-full text-sm font-semibold">Mais Rápido</button>
                 <button class="bg-slate-700 text-slate-300 hover:bg-slate-600 px-4 py-2 rounded-full text-sm font-semibold">Menor Preço</button>
             </div>
             <div class="space-y-4 w-full">
                 <!-- Card de Viagem 1 -->
                 <div class="bg-slate-700/50 p-4 rounded-lg flex flex-col md:flex-row justify-between items-center gap-4 transition hover:bg-slate-700">
                    <div class="flex items-center gap-4">
                        <i class="ph-bold ph-bus text-3xl text-cyan-400"></i>
                        <div>
                           <p class="font-bold text-white">Viação Cometa</p>
                           <span class="text-sm bg-green-900 text-green-300 px-2 py-1 rounded-md">Executivo</span>
                        </div>
                    </div>
                     <div class="text-center">
                         <p class="font-mono text-lg text-white">22:00 <i class="ph ph-arrow-right align-middle"></i> 04:00</p>
                         <p class="text-sm text-slate-400">Duração: 6h</p>
                     </div>
                     <div class="text-center md:text-right">
                         <p class="text-xl font-bold text-cyan-400">R$ 99,90</p>
                         <button onclick="navigate('confirmacaoCompra')" class="bg-cyan-600 text-white text-sm font-bold py-2 px-4 rounded-lg mt-2 hover:bg-cyan-500">SELECIONAR</button>
                     </div>
                 </div>
                 <!-- Card de Viagem 2 -->
                 <div class="bg-slate-700/50 p-4 rounded-lg flex flex-col md:flex-row justify-between items-center gap-4 transition hover:bg-slate-700">
                    <div class="flex items-center gap-4">
                        <i class="ph-bold ph-bus text-3xl text-cyan-400"></i>
                        <div>
                           <p class="font-bold text-white">Viação 1001</p>
                           <span class="text-sm bg-purple-900 text-purple-300 px-2 py-1 rounded-md">Leito</span>
                        </div>
                    </div>
                     <div class="text-center">
                         <p class="font-mono text-lg text-white">23:30 <i class="ph ph-arrow-right align-middle"></i> 05:45</p>
                         <p class="text-sm text-slate-400">Duração: 6h 15m</p>
                     </div>
                     <div class="text-center md:text-right">
                         <p class="text-xl font-bold text-cyan-400">R$ 149,90</p>
                         <button onclick="navigate('confirmacaoCompra')" class="bg-slate-600 text-white text-sm font-bold py-2 px-4 rounded-lg mt-2 hover:bg-slate-500">SELECIONAR</button>
                     </div>
                 </div>
             </div>
        </div>

        <!-- TELA: CONFIRMAÇÃO DA COMPRA -->
        <div id="confirmacaoCompra" class="screen w-full max-w-2xl mx-auto p-6 md:p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
            <div class="w-full flex items-center mb-6">
                <button onclick="navigate('compraPassagem')" class="text-cyan-400 hover:text-cyan-300 mr-4 p-2 rounded-full hover:bg-slate-700"><i class="ph ph-arrow-left text-2xl"></i></button>
                <h2 class="text-2xl font-bold text-white">Finalizar Compra</h2>
            </div>
            
            <!-- Resumo -->
            <div class="bg-slate-700/50 p-4 rounded-lg mb-6">
                <h3 class="font-bold text-lg text-white mb-2">Resumo da Viagem</h3>
                <p class="text-slate-300">São Paulo <i class="ph ph-arrow-right align-middle"></i> Rio de Janeiro</p>
                <p class="text-slate-400 text-sm">25/08/2025 - 22:00 | Viação Cometa | Poltrona Executivo</p>
            </div>
            
            <!-- Identificação -->
            <div class="mb-6">
                <h3 class="font-bold text-lg text-white mb-3">Identificação do Passageiro</h3>
                <div class="space-y-4">
                     <div>
                         <label class="block text-sm font-medium text-slate-300 mb-1">Nome Completo</label>
                         <input type="text" value="José da Silva" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3">
                     </div>
                      <div>
                         <label class="block text-sm font-medium text-slate-300 mb-1">Documento (CPF)</label>
                         <input type="text" value="123.456.789-00" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3">
                     </div>
                </div>
            </div>
            
             <!-- Pagamento -->
            <div>
                <h3 class="font-bold text-lg text-white mb-3">Pagamento</h3>
                 <div class="bg-slate-700/50 p-4 rounded-lg">
                     <p class="text-slate-300">Escolha o método:</p>
                    <div class="flex items-center justify-between mt-4">
                        <p class="text-2xl font-bold text-white">Total: <span class="text-cyan-400">R$ 99,90</span></p>
                        <button onclick="navigate('minhasPassagens')" class="bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-6 rounded-lg transition duration-300">PAGAR COM PIX</button>
                    </div>
                 </div>
            </div>
        </div>
        
        <!-- TELA: MINHAS PASSAGENS -->
        <div id="minhasPassagens" class="screen w-full max-w-3xl mx-auto p-6 md:p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
            <div class="w-full flex items-center mb-6">
                <button onclick="navigate('buscaItinerario')" class="text-cyan-400 hover:text-cyan-300 mr-4 p-2 rounded-full hover:bg-slate-700"><i class="ph ph-arrow-left text-2xl"></i></button>
                <h2 class="text-2xl font-bold text-white">Minhas Passagens</h2>
            </div>
            <div class="flex space-x-2 mb-6 border-b border-slate-700">
                 <button class="text-cyan-400 border-b-2 border-cyan-400 px-4 py-2 font-semibold">Próximas Viagens</button>
                 <button class="text-slate-400 hover:text-white px-4 py-2 font-semibold">Viagens Anteriores</button>
             </div>
             
             <!-- Card de Passagem -->
             <div class="space-y-4 w-full">
                 <div class="bg-slate-700/50 p-4 rounded-lg border-l-4 border-cyan-500">
                     <div class="flex justify-between items-start">
                         <div>
                             <p class="font-bold text-lg text-white">São Paulo <i class="ph ph-arrow-right align-middle"></i> Rio de Janeiro</p>
                             <p class="text-sm text-slate-400">25 de Agosto de 2025 - 22:00</p>
                             <span class="text-xs font-bold text-green-400 bg-green-900/50 px-2 py-0.5 rounded-full mt-2 inline-block">CONFIRMADA</span>
                         </div>
                         <div class="text-right flex items-center flex-wrap">
                             <button class="text-sm text-cyan-400 hover:underline">Ver Bilhete</button>
                             <button onclick="showModal()" class="text-sm text-red-400 hover:underline ml-4">Cancelar</button>
                             <button onclick="generateItinerary('São Paulo', 'Rio de Janeiro')" class="text-sm text-purple-400 hover:underline ml-4"><i class="ph ph-sparkle align-middle"></i> Roteiro IA</button>
                         </div>
                     </div>
                 </div>
             </div>
        </div>

        <!-- ====================================================== -->
        <!-- =================== FLUXO DO ADMIN =================== -->
        <!-- ====================================================== -->

        <!-- TELA: LOGIN ADMIN -->
        <div id="loginAdmin" class="screen w-full max-w-md mx-auto p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
             <button onclick="navigate('home')" class="self-start text-cyan-400 hover:text-cyan-300 mb-4"><i class="ph ph-arrow-left"></i> Voltar</button>
            <i class="ph-bold ph-user-gear text-5xl text-cyan-400 mx-auto mb-4"></i>
            <h2 class="text-2xl font-bold text-center text-white mb-2">Painel Administrativo</h2>
            <p class="text-slate-400 text-center mb-6">Acesso restrito.</p>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-1">Email de Administrador</label>
                    <input type="email" value="admin@empresa.com" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3">
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-1">Senha</label>
                    <input type="password" value="admin123" class="w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-3">
                </div>
            </div>
            <button onclick="navigate('adminDashboard')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-4 rounded-lg mt-6 transition duration-300">LOGIN</button>
        </div>

        <!-- TELA: ADMIN DASHBOARD (LISTAR ITINERÁRIOS) -->
        <div id="adminDashboard" class="screen w-full max-w-5xl mx-auto p-6 md:p-8 bg-slate-800 rounded-xl shadow-2xl flex-col fade-in">
            <div class="w-full flex justify-between items-center mb-6">
                 <h2 class="text-2xl font-bold text-white">Gerenciar Itinerários</h2>
                 <div>
                    <button onclick="navigate('loginAdmin')" class="text-slate-300 hover:text-cyan-400 transition"><i class="ph-bold ph-sign-out text-2xl"></i></button>
                 </div>
            </div>
            <div class="w-full flex justify-between items-center mb-4">
                 <input type="text" placeholder="Buscar por origem, destino..." class="bg-slate-700 border border-slate-600 rounded-lg p-2 w-1/3">
                 <button onclick="navigate('adminCreate')" class="bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300"><i class="ph ph-plus align-middle mr-1"></i> Cadastrar Novo</button>
            </div>
            <div class="w-full bg-slate-700/50 rounded-lg overflow-hidden">
                <table class="w-full text-left">
                    <thead class="bg-slate-700">
                        <tr>
                            <th class="p-3 text-sm font-semibold text-slate-300">Rota</th>
                            <th class="p-3 text-sm font-semibold text-slate-300">Data/Hora</th>
                            <th class="p-3 text-sm font-semibold text-slate-300">Empresa</th>
                            <th class="p-3 text-sm font-semibold text-slate-300">Ações</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-700">
                        <tr class="hover:bg-slate-700">
                            <td class="p-3">São Paulo → Rio de Janeiro</td>
                            <td class="p-3">25/08/2025 22:00</td>
                            <td class="p-3">Viação Cometa</td>
                            <td class="p-3 space-x-2">
                                <button onclick="navigate('adminPassengers')" class="text-blue-400 hover:underline">Passageiros</button>
                                <button class="text-yellow-400 hover:underline">Editar</button>
                                <button class="text-red-400 hover:underline">Excluir</button>
                            </td>
                        </tr>
                         <tr class="hover:bg-slate-700">
                            <td class="p-3">Belo Horizonte → Salvador</td>
                            <td class="p-3">28/08/2025 19:30</td>
                            <td class="p-3">Gontijo</td>
                            <td class="p-3 space-x-2">
                                <button class="text-blue-400 hover:underline">Passageiros</button>
                                <button class="text-yellow-400 hover:underline">Editar</button>
                                <button class="text-red-400 hover:underline">Excluir</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- TELA: ADMIN CADASTRO DE ITINERÁRIO -->
        <div id="adminCreate" clas